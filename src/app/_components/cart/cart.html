<div class="cart-container" *ngIf="cart.length > 0">
  <div class="cart-bar">
    <div class="cart-content">
      <button (click)="toggleCart.emit()" class="cart-toggle">
        <img src="/assets/icons/cart.svg" alt="Carrinho" />
        <span>{{ getTotalItems() }} itens</span>
        <app-badge variant="secondary">
          R$ {{ getTotalPrice().toFixed(2) }}
        </app-badge>
      </button>

      <app-button variant="default" (click)="finishOrder.emit()">
        <img src="/assets/icons/heart.svg" />
        Finalizar Pedido
      </app-button>
    </div>

    <div class="cart-list" *ngIf="isCartOpen">
      <div class="cart-item" *ngFor="let item of cart">
        <div class="info">
          <h4>{{ item.name }}</h4>
          <p>R$ {{ item.price.toFixed(2) }} cada</p>
        </div>
        <div class="actions">
          <app-button
            variant="outline"
            size="icon"
            (click)="onUpdateQuantity(item.id, item.quantity - 1)"
          >
            <img src="/assets/icons/minus.svg" />
          </app-button>

          <span>{{ item.quantity }}</span>

          <app-button
            variant="outline"
            size="icon"
            (click)="onUpdateQuantity(item.id, item.quantity + 1)"
          >
            <img src="/assets/icons/plus.svg" />
          </app-button>

          <app-button
            variant="outline"
            size="icon"
            (click)="onUpdateQuantity(item.id, 0)"
            class="remove"
          >
            <img src="/assets/icons/close.svg" />
          </app-button>
        </div>
      </div>
    </div>
  </div>
</div>
